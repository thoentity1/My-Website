<script>
// Step 1: Send Invite to Guest
document.getElementById('inviteForm').addEventListener('submit', e => {
  e.preventDefault();
  let guestname = document.getElementById('guestname').value.trim();
  let admit = document.getElementById('admit').value.trim();
  let guestphone = document.getElementById('guestphone').value.trim();

  if (!guestname || !admit || !guestphone) {
    alert("âš ï¸ Please complete all required fields.");
    return;
  }

  guestphone = guestphone.replace(/\D/g, "");
  if (!guestphone.startsWith("27")) {
    alert("âš ï¸ Please enter number with country code, e.g. 27821234567");
    return;
  }

  const rsvpLink = "https://thoentity1.github.io/nikahI-A/";
  const msg = `ğŸ’ *Wedding Invitation* ğŸ’  

Dear ${guestname},  

You are invited to the nikah ğŸ•Œ and reception of  
âœ¨ _Imtiaz Kader & Ammaarah Minnie_ âœ¨  

ğŸŸï¸ *Admits:* ${admit}  

ğŸ“… *Date:* Saturday, 01 November 2025  
ğŸ•‘ *Time:* 2:00 PM  
ğŸ½ï¸ *Reception:* Will follow thereafter  
ğŸ“ *Venue:* 45 Cotswold Road, Florida Hills, Roodepoort 1716  

ğŸ‘‰ Please RSVP before *10 October 2025* here:  
ğŸ”— ${rsvpLink}  

ğŸŒ¸ With joy in our hearts and duÊ¿Äs ğŸ¤²,  
we invite you to share in this blessed beginning, In Shaa Allah. ğŸŒ¸`;

  window.open(`https://wa.me/${guestphone}?text=${encodeURIComponent(msg)}`, "_blank", "noopener");
  alert("âœ… Invitation opened in WhatsApp!");
  e.target.reset();
});
</script>
